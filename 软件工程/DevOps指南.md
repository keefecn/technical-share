| 序号 | 修改时间  | 修改内容 | 修改人 | 审稿人 |
| ---- | --------- | -------- | ------ | ------ |
| 1    | 2021-5-28 | 创建     | Keefe  |        |





---

[TOC]



---

# 1 DevOps简介

DevOps（Development和Operations的组合词）是一组过程、方法与系统的统称，用于促进开发（[应用程序](https://baike.baidu.com/item/应用程序/5985445)/软件工程）、技术运营和质量保障（QA）部门之间的沟通、协作与整合。

它是一种重视“软件开发人员（Dev）”和“IT运维技术人员（Ops）”之间沟通合作的文化、运动或惯例。透过自动化“软件交付”和“架构变更”的流程，来使得构建、测试、发布软件能够更加地快捷、频繁和可靠。

它的出现是由于[软件](https://baike.baidu.com/item/软件/12053)行业日益清晰地认识到：为了按时交付软件产品和服务，开发和运维工作必须紧密合作。



## 诉求和问题

可以把DevOps看作开发（[软件工程](https://baike.baidu.com/item/软件工程/25279)）、技术运营和质量保障（QA）三者的交集。

在开发过程中，系统在开发者的[本地机器](https://baike.baidu.com/item/本地机器)上运行。在运营过程中，系统经常分布在多台服务器上，例如web服务器、[应用服务器](https://baike.baidu.com/item/应用服务器)、[数据库服务器](https://baike.baidu.com/item/数据库服务器)等等。

* 开发是由功能性需求（通常与业务需求直接相关）驱动的。

* 运营是由非功能性需求（例如可获得性、可靠性、性能等）驱动的。

一般而言，当企业希望将原本笨重的开发与运营之间的工作移交过程变得流畅无碍，他们通常会遇到以下三类问题：

**发布管理问题：**

很多企业有[发布管理](https://baike.baidu.com/item/发布管理)问题。他们需要更好的发布计划方法，而不止是一份共享的电子数据表。他们需要清晰了解发布的风险、依赖、各阶段的入口条件，并确保各个角色遵守既定流程行事。

**发布/[部署](https://baike.baidu.com/item/部署)协调问题：**

有发布/部署协调问题的团队需要关注发布/部署过程中的执行。他们需要更好地跟踪发布状态、更快地将问题上升、严格执行流程控制和细粒度的报表。

**发布/部署自动化问题：**

这些企业通常有一些自动化工具，但他们还需要以更灵活的方式来管理和驱动自动化工作──不必要将所有手工操作都在命令行中加以自动化。理想情况下，自动化工具应该能够在非生产环境下由非运营人员使用。



以下几方面因素可能促使一个组织引入DevOps：

1、使用敏捷或其他[软件开发过程](https://baike.baidu.com/item/软件开发过程)与方法

2、业务负责人要求加快产品交付的速率

3、虚拟化和[云计算](https://baike.baidu.com/item/云计算)基础设施（可能来自内部或外部供应商）日益普遍

4、[数据中心](https://baike.baidu.com/item/数据中心)自动化技术和[配置管理](https://baike.baidu.com/item/配置管理)工具的普及

5、有一种观点认为，占主导地位的“传统”美国式管理风格（“[斯隆](https://baike.baidu.com/item/斯隆)模型 vs [丰田](https://baike.baidu.com/item/丰田)模型”）会导致“烟囱式自动化”，从而造成开发与运营之间的鸿沟，因此需要DevOps能力来克服由此引发的问题。

DevOps经常被描述为“开发团队与运营团队之间更具[协作](https://baike.baidu.com/item/协作)性、更高效的关系”。由于团队间协作关系的改善，整个组织的效率因此得到提升，伴随频繁变化而来的生产环境的风险也能得到降低。



**DevOps对应用程序发布的影响**

在很多企业中，应用程序发布是一项涉及多个团队、压力很大、风险很高的活动。然而在具备DevOps能力的组织中，应用程序发布的风险很低，原因如下 ：

**（1）减少变更范围**

与传统的[瀑布式开发](https://baike.baidu.com/item/瀑布式开发)模型相比，采用敏捷或[迭代式开发](https://baike.baidu.com/item/迭代式开发)意味着更频繁的发布、每次发布包含的变化更少。由于部署经常进行，因此每次部署不会对生产系统造成巨大影响，应用程序会以平滑的速率逐渐生长。

**（2）加强发布协调**

靠强有力的发布协调人来弥合开发与运营之间的技能鸿沟和沟通鸿沟；采用电子数据表、[电话会议](https://baike.baidu.com/item/电话会议)、[即时消息](https://baike.baidu.com/item/即时消息)、企业门户（wiki、sharepoint）等协作工具来确保所有相关人员理解变更的内容并全力合作。

**（3）自动化**

强大的部署自动化手段确保部署任务的可重复性、减少部署出错的可能性。

与传统开发方法那种大规模的、不频繁的发布（通常以“季度”或“年”为单位）相比，敏捷方法大大提升了发布频率（通常以“天”或“周”为单位）



## 度量标准

[Flickr](https://baike.baidu.com/item/Flickr)发展了自己的DevOps能力，使之能够支撑业务部门“每天部署10次”的要求──如果一个组织要生产面向多种用户、具备多样功能的应用程序，其部署周期必然会很短。这种能力也被称为**持续部署**，并且经常与[精益创业](https://baike.baidu.com/item/精益创业)方法联系起来。

全面自动化 —— 部署、 升级、 扩展、 维护、 数据卫生、 测试、 监测、 安全和策略管理。在自动化方面投入巨资，目标是100%的自动化，不考虑低于90%的可能性。

以下是一些具体的度量标准：

- 开发应用所花费的最高时间：帮助理解可以多快的开发应用
- 失败部署的百分比：看出是否部署成功
- 客户[ticket](https://baike.baidu.com/item/ticket)数：显示产生了多少问题
- 故障恢复
- 的平均时间：显示从应用程序bug或者故障恢复需要多长时间
- 用户数：显示应用程序对于用户而言的有用程度





# 2 DevOps方法论

## 敏捷开发 

详见 《[敏捷开发](敏捷开发.md)》



## AIOps

智能运维。



## Serveless

 2012 年开始有了 Serverless 的概念。

Serverless 的应用场景有很多，比如：为小程序、Web、Mobile 提供基础性的 API 服务，大规模批处理任务处理，Web 站点、DevOps 的工具以及 GraphQLAPI 能力。



# 3 DevOps工具

开发工具： 详见 《[项目开发环境工具](../tools.工具/项目开发环境工具.md)》 《自动化测试工具》

表格 DevOps在软件工程各过程域阶段需要的工具

| 过程域                  | 工具             | 目标                                               |
| ----------------------- | ---------------- | -------------------------------------------------- |
| 协同开发（开发）        | git、github      | 代码管理、代码评审、代码合并                       |
| 自动化测试（QA）        | sonar、Jenkins   | 代码静态扫描、单元测试、代码质量                   |
| 自动化部署（开发&运维） | TFS、CloudBuild  | 代码自动部署到服务器                               |
| 弹性伸缩（运营）        | ECS、Docker、K8S | 根据流量变化，可以不改代码的进行服务能力动态扩展。 |
| 服务监控（运营）        | AIOps            | 日志全链路跟踪、服务状态跟踪、异常通知             |

> 备注：本处DevOps概念里，运维和运营的含义暂定为一致。



![devops_001](..\media\software_enginer\devops_001.jpg)

图 Devops常用技术

* 计划、构建、部署、运营、
* 持续集成、持续反馈



![devops_002](..\media\software_enginer\devops_002.png)

图 DevOps工具链（敏捷开发-持续集成-持续测试-持续部署）





## Microsoft TFS

TFS下载 https://visualstudio.microsoft.com/zh-hans/vso/?rr=https%3A%2F%2Fwww.cnblogs.com%2F

 

Visual Studio Online 5 人以下的小团队免费。

Team Foundation Server (TFS)是一个应用软件生命周期管理（ALM）软件，是一个软件研发平台产品，其功能覆盖了软件研发过程中的所有环节（包括源代码管理）和所有角色。

**TFS是微软的云在线DEVOPS工具。**

**六大功能**

- 敏捷运作：项目、团队、区域、迭代、容量、工时、燃尽图
- 代码管理：分支策略、代码评审
- 持续集成：
- 持续部署：
- 持续测试
- 持续运营

 

TFS的优势在于：

**1) 易用性。**

在用户习惯上，TFS秉承了微软所有产品的特新，开发人员非常容易上手。软件使用过程中，用户会发现与日常导入操作系统、开发工具（VS），Office软件等有很多共同的体验。

**2) 高度集成其他工具。**

TFS高度集成主流的开发工具和常见的办公工具。

例如Visual Studio, Eclipse, XCode, ItelliJ，

例如Excel, 浏览器，Project

同时，TFS提供方便的API（.NET API, Java API, Rest API）集成，可以与企业现有的系统实现数据共享

 

**3) 高度集成研发团队的工作项目**

可以通过TFS的源代码，查询到代码变更的依据（需求、任务、Bug等）

反过来，可以通过项目管理的数据（需求、任务、Bug等），查询到相应代码的变动。例如，你可以查询到修复Bug所修改的代码行数。

 

**4) 支持分布式代码库（Git）**

除了支持集中式代码库（SVN属于此类），TFS还支持分布式的源代码库Git。这为TFS开拓了分布式代码管理的一个广阔天地，是SVN望成莫及的。

**5) 搁置集**

可以通过TFS将代码保持在服务器上，但是不签入到代码库中，实现将你的变更保存在服务器上一个临时的位置。这样，既备份了自己的代码，有不会影响其他团队成员的代码。

 

**6) 代码评审**

TFS提供基于开放工具的便捷的代码评审机制，可以实现研发团队内部之间的代码评审，或者与外部专家的代码评审。

**7) 后台数据库存储**

TFS的所有源代码和版本信息都存储在数据库中，在大型软件研发团队中，可以大幅提升数据的查询和存储速度。

同时，基于数据库存储，系统管理员可以方便的备份和还原TFS中的任何数据。

**8) 代码搜索**

TFS提供非常方便的代码搜索功能，开发人员可以在代码库中基于方法、类、对象等查询相关文件和代码。

**9) 快速修改代码**

你可以不需要任何开发工具，在浏览器上就可以完成代码的修改功能。

**10) 自动化生成和发布**

开箱即用的TFS就集成的自动生成和发布功能。可以实现修改代码以后，生成和发布自动完成；也可以在发布过程中增加流程控制，例如需要项目经理审批才能继续发布过程。





# 4 云开发

## 华为软件开发云

官网: https://www.huaweicloud.com/devcloud/

华为云DevCloud（华为软件开发云）于2016年12月由[华为公司](https://baike.baidu.com/item/华为公司/8099193)在大连正式发布，是基于华为研发云的成功实践经验，通过云服务的方式提供一站式云端[DevOps](https://baike.baidu.com/item/DevOps/2613029)平台。

华为基于二十几年的研发实践，并融合DevOps等理念方法，打造了软件开发云服务，希望为企业提供一站式的云上开发工具平台。据了解，[华为软件开发云](https://baike.baidu.com/item/华为软件开发云)提供了项目管理、配置管理、代码检查、编译构建、测试、部署、发布等端到端地覆盖[软件生命周期](https://baike.baidu.com/item/软件生命周期/861455)的相关服务。



表格 华为软件开发云基础版和专业版比较

| 基础版                                                       | 专业版                                                       |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 5人（含）以下免费，新增人数50元/人/月                        | 5人（含）以下1元/月，新增人数200元/人/月                     |
| 项目管理：10G存储空间                                        | 项目管理：100G存储空间                                       |
| 代码托管：10G存储空间                                        | 代码托管：100G存储空间                                       |
| 代码检查：每任务最大1个并发                                  | 代码检查：每任务最大5个并发                                  |
| 流水线：每任务最大5个并发                                    | 流水线：每任务最大10个并发                                   |
| 编译构建：每任务最大5个并发，600分钟构建时长/月              | 编译构建：每任务最大5个并发，不限构建时长                    |
| 部署：1个并发                                                | 部署：10个并发                                               |
| 测试管理：测试计划和用例管理                                 | 测试管理：测试计划和用例管理                                 |
| 接口测试：5个并发用例，2个并发套件，每套件最大10个并发用例，30分钟测试时长/月 | 接口测试：10个并发用例，5个并发套件，每套件最大20个并发用例，不限测试时长 |
| 发布：10G存储空间                                            | 发布：100G存储空间                                           |



## 阿里云效开发



## 本章参考

[1]. 华为软件开发云 https://baike.baidu.com/item/华为软件开发云

[2]. [华为软件开发云如何让DevOps真正落地？ ](https://baike.baidu.com/reference/2613029/fbf2_ZOl0oFTrjtcBw7HavHPIEhfUbKjestZ57dc9Kr77zcT8Mjf-A6W6mnqV_adBru1BjLUMzEm7EsJAHpUzvfE-CoSG3zVreknrHUlwSZMiEY) 



# 参考资料

## 相关文章

* [运营专题](运营专题.md) 
* [运维专题](运维专题.md) 
* 《[可信软件过程](可信软件过程.md)》



## 参考链接

[1]. 百度百科Devops https://baike.baidu.com/item/DevOps/2613029?fr=aladdin

[2]. 2020 年大前端技术趋势解读 https://blog.csdn.net/Tencent_TEG/article/details/111602083?utm_medium=distribute.pc_relevant.none-task-blog-2~default~OPENSEARCH~default-6.baidujs&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~OPENSEARCH~default-6.baidujs 